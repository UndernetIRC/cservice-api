basePath: /api/v1
definitions:
  controllers.MeChannelResponse:
    properties:
      access:
        type: integer
      channel_id:
        type: integer
      last_modified:
        type: integer
      name:
        type: string
    type: object
  controllers.MeResponse:
    properties:
      channels:
        items:
          $ref: '#/definitions/controllers.MeChannelResponse'
        type: array
        x-order: "7"
      email:
        type: string
        x-order: "2"
      id:
        type: integer
        x-order: "0"
      language_code:
        type: string
        x-order: "4"
      language_name:
        type: string
        x-order: "5"
      last_seen:
        type: integer
        x-order: "6"
      max_logins:
        type: integer
        x-order: "3"
      username:
        type: string
        x-order: "1"
    type: object
  controllers.customError:
    properties:
      code:
        type: integer
      message:
        type: string
    type: object
  controllers.loginRequest:
    properties:
      password:
        type: string
        x-order: "1"
      username:
        maxLength: 12
        minLength: 2
        type: string
        x-order: "0"
    required:
    - password
    - username
    type: object
  controllers.loginResponse:
    properties:
      access_token:
        type: string
        x-order: "0"
      refresh_token:
        type: string
        x-order: "1"
    type: object
  controllers.logoutRequest:
    properties:
      logout_all:
        type: boolean
    type: object
  controllers.refreshTokenRequest:
    properties:
      refresh_token:
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: ratler@undernet.org
    name: Ratler
  description: '...'
  license:
    name: MIT
    url: https://github.com/UndernetIRC/cservice-api/blob/master/LICENSE
  title: UnderNET Channel Service API
  version: "0.1"
paths:
  /authn:
    post:
      consumes:
      - application/json
      parameters:
      - description: Login request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/controllers.loginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controllers.loginResponse'
        "401":
          description: Invalid username or password
      summary: Authenticate user to retrieve JWT token
      tags:
      - accounts
  /authn/logout:
    post:
      consumes:
      - application/json
      parameters:
      - description: Logout request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/controllers.logoutRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Logged out
          schema:
            type: string
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/controllers.customError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/controllers.customError'
      summary: Logout user
      tags:
      - accounts
  /authn/refresh:
    post:
      consumes:
      - application/json
      parameters:
      - description: Refresh token
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/controllers.refreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controllers.loginResponse'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/controllers.customError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/controllers.customError'
      summary: Request new session tokens using a Refresh JWT token
      tags:
      - accounts
  /me:
    get:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controllers.MeResponse'
        "401":
          description: Authorization information is missing or invalid.
      summary: Get detailed information about the current user
      tags:
      - accounts
swagger: "2.0"
